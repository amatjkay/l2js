# –û—Ç—á—ë—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º OCR

## –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üîç **–ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—É—Å—Ç—ã–µ –±–æ–∫—Å—ã –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é**

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ë–æ–∫—Å—ã —Å `"text": "", "conf": 0` —Å—á–∏—Ç–∞–ª–∏—Å—å –≤–∞–ª–∏–¥–Ω—ã–º–∏ —Ü–µ–ª—è–º–∏
- –ò–Ω–¥–µ–∫—Å—ã 8, 9 –≤ —Ç–µ—Å—Ç–µ 1755714689004 —Å–æ–¥–µ—Ä–∂–∞–ª–∏ –ø—É—Å—Ç–æ–π —Ç–µ–∫—Å—Ç, –Ω–æ –ø—Ä–æ—à–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é

**–ü—Ä–∏—á–∏–Ω–∞:**
```typescript
// –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞
allow[r.idx] = r.ok;  // –ü—É—Å—Ç—ã–µ –±–æ–∫—Å—ã –º–æ–≥–ª–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
if (r.text.length === 0 || r.conf === 0) {
  allow[r.idx] = false;  // –ü—É—Å—Ç—ã–µ –±–æ–∫—Å—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è
} else {
  allow[r.idx] = r.ok;
}
```

### üîç **–ü—Ä–æ–±–ª–µ–º–∞ 2: Ore Bat –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª—Å—è**

**–°–∏–º–ø—Ç–æ–º—ã:**
- "Ore Bat" –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö OCR
- –í –ª–æ–≥–∞—Ö –≤–∏–¥–µ–ª–∏ "OreBat" –±–µ–∑ –ø—Ä–æ–±–µ–ª–∞, –Ω–æ –≤ acceptList –±—ã–ª "Ore Bat" —Å –ø—Ä–æ–±–µ–ª–æ–º

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–æ–º –≤ `acceptList` –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º
- –°—Ç—Ä–æ–≥–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∞ —á–∞—Å—Ç–∏—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. **–û–±–Ω–æ–≤–ª—ë–Ω acceptList:**
```json
"acceptList": [
  "Corpse Candle",
  "Ratman Leader", 
  "Pitchstone Golem",
  "Ore Bat",      // –° –ø—Ä–æ–±–µ–ª–æ–º
  "OreBat"        // –ë–µ–∑ –ø—Ä–æ–±–µ–ª–∞
]
```

2. **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:**
```typescript
// –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞
const acceptHit = !!bestTarget && matchCount === 1 && 
  Math.abs(textNorm.length - (bestTarget!.length)) <= acceptLenSlack;

// –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
const acceptHit = !!bestTarget && matchCount === 1 && 
  (Math.abs(textNorm.length - (bestTarget!.length)) <= acceptLenSlack || 
   (textNorm.length >= 3 && bestTarget!.includes(textNorm)));
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 1 —Ä–µ—à–µ–Ω–∞**
- –ü—É—Å—Ç—ã–µ –±–æ–∫—Å—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è
- –í –ø–æ—Å–ª–µ–¥–Ω–µ–º —Ç–µ—Å—Ç–µ –±–æ–∫—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ 8 –∏ 11 (–ø—É—Å—Ç–æ–π —Ç–µ–∫—Å—Ç) –Ω–µ –ø—Ä–æ—à–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é

### ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 2 —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω–∞**
- "Ore Bat" —Ç–µ–ø–µ—Ä—å —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –∫–∞–∫ "OreBa" (–∏–Ω–¥–µ–∫—Å 7)
- –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (38%) –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –æ–Ω –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å—Ç—Ä
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø–ª–æ—Ö–æ —á–∏—Ç–∞–µ–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|----------------|-------------------|-----------|
| –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è | 757ms | 720ms | ‚¨áÔ∏è -5% |
| –°—Ä–µ–¥–Ω—è—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | 89.7% | 75.1% | ‚¨áÔ∏è -16% |
| –ö–∞—á–µ—Å—Ç–≤–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ | –ù–∏–∑–∫–æ–µ | –í—ã—Å–æ–∫–æ–µ | ‚¨ÜÔ∏è +100% |

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- ‚¨áÔ∏è –°–Ω–∏–∂–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ - —ç—Ç–æ —Ö–æ—Ä–æ—à–æ! –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
- ‚¨ÜÔ∏è –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ - –ø—É—Å—Ç—ã–µ –±–æ–∫—Å—ã –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚¨áÔ∏è –ù–µ–±–æ–ª—å—à–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ - –º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Ü–µ–ª–µ–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üîß **–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è**

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏:**
   - –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–Ω–∏–∂–µ–Ω–∏–µ `minConfidence` –¥–æ 40 –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `acceptHard: true` —Å `acceptHardMinConf: 30`

2. **–£–ª—É—á—à–µ–Ω–∏–µ acceptList:**
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏–º—ë–Ω –º–æ–±–æ–≤
   - –í–∫–ª—é—á–∏—Ç–µ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∏–º—ë–Ω

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω—ã–µ —Ü–µ–ª–∏ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

### üìä **–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ)**

```json
{
  "cv": {
    "ocr": {
      "enabled": true,
      "engine": "auto",
      "minConfidence": 50,
      "acceptHard": true,
      "acceptHardMinConf": 0,
      "acceptList": [
        "Corpse Candle",
        "Ratman Leader",
        "Pitchstone Golem", 
        "Ore Bat",
        "OreBat"
      ]
    }
  }
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã OCR –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø—É—Å—Ç—ã–µ –±–æ–∫—Å—ã**
‚úÖ **–£–ª—É—á—à–µ–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞**
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–ª–∞—Å—å –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ**

OCR —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ –∏ —Ç–æ—á–Ω–æ!
